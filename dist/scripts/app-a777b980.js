"use strict";angular.module("sv",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngResource","ui.router","ui.bootstrap"]).config(["$stateProvider","$urlRouterProvider",function(e,r){e.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainCtrl"}),r.otherwise("/")}]),angular.module("sv").controller("NavbarCtrl",["$scope",function(e){e.date=new Date}]),function(){function e(e,r){var t="https://api.github.com",n=function(n){var a=r.defer();return e.get(t+"/users/"+n+"/repos").success(function(e){a.resolve(e)}).error(function(){a.resolve({error:"Could not make request"})}),a.promise},a=function(n,a){var s=r.defer();return e.get(t+"/repos/"+n+"/"+a+"/branches").success(function(e){s.resolve(e)}).error(function(){s.resolve({error:"Could not make request"})}),s.promise},s=function(n,a,s){var o=r.defer();return e.get(t+"/repos/"+n+"/"+a+"/commits?author="+n+"&sha="+s).success(function(e){o.resolve(e)}).error(function(){o.resolve({error:"Could not make request"})}),o.promise};return{getRepos:n,getBranches:a,getCommits:s}}angular.module("sv").factory("GithubAPI",e),e.$inject=["$http","$q"]}(),angular.module("sv").controller("MainCtrl",["$scope","GithubAPI",function(e,r){e.user={username:"",repos:[],branches:[],currentRepo:"",currentBranch:"master",currentCommits:[]},e.usernameChange=function(){r.getRepos(e.user.username).then(function(r){e.user.repos=[],angular.forEach(r,function(r){e.user.repos.push(r.full_name.split("/").pop())})})},e.repoChanged=function(){e.user.branches=[],r.getBranches(e.user.username,e.user.currentRepo).then(function(r){angular.forEach(r,function(r){e.user.branches.push(r.name)})})},e.branchChanged=function(){r.getCommits(e.user.username,e.user.currentRepo,e.user.currentBranch).then(function(r){e.user.currentCommits=[],angular.forEach(r,function(r){var t=r.commit.message.split(":"),n="",a="";t[1]&&(n=t[1].replace(/(\r\n|\n|\r)/gm,"")),t[2]&&(a=r.commit.message.split(":").slice(2).join(":")),e.user.currentCommits.push({timestamp:r.commit.committer.date,mac:a,ip:n,commit:r.sha})})})}}]),angular.module("sv").run(["$templateCache",function(e){e.put("app/main/main.html",'<div class="container"><div ng-include="\'app/components/navbar/navbar.html\'"></div><div class="jumbotron text-center"><h1>Eric\'s Github</h1><p class="lead">Commit Audit Log</p><input type="text" ng-model="user.username" placeholder="user name"> <input type="button" ng-click="usernameChange()" value="Fetch Repos"><select ng-change="repoChanged()" ng-model="user.currentRepo" ng-options="o as o for o in user.repos"></select><select ng-change="branchChanged()" ng-model="user.currentBranch" ng-options="o as o for o in user.branches"></select></div><div class="row"><table class="table table-condensed table-striped table-condensed"><thead><tr><th>Time Stamp</th><th>MAC Address</th><th>IP Address</th><th>Commit</th></tr></thead><tbody><tr ng-repeat="commit in user.currentCommits track by $index"><td>{{commit.timestamp}}</td><td>{{commit.mac}}</td><td>{{commit.ip}}</td><td><a ng-href="#">{{commit.commit}}</a></td></tr></tbody></table></div><hr><div class="footer"><p>With â™¥ from <a href="/">SV</a></p></div></div>'),e.put("app/components/navbar/navbar.html",'<nav class="navbar navbar-static-top navbar-inverse" ng-controller="NavbarCtrl"><div class="container-fluid"><div class="navbar-header"><a class="navbar-brand" href="/"><span class="glyphicon glyphicon-home"></span> SV</a></div><div class="collapse navbar-collapse" id="bs-example-navbar-collapse-6"><ul class="nav navbar-nav"><li class="active"><a ng-href="#">Home</a></li><li><a ng-href="#">About</a></li><li><a ng-href="#">Contact</a></li></ul><ul class="nav navbar-nav navbar-right"><li>Current date: {{ date | date:\'yyyy-MM-dd\' }}</li></ul></div></div></nav>')}]);